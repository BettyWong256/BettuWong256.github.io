<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>guardian</title>
    <link rel="stylesheet" href="../css/frozen.css">
</head>

<body ontouchstart>
    <header class="ui-header ui-header-positive ui-border-b">
        <i class="ui-icon-return" onclick="history.back()"></i>
        <h1>历史查询</h1>
        <button class="ui-btn" onclick="location.href='./index.html'">
            <i class="ui-icon-home" style="line-height: 30px;color: #333;"></i>
        </button>
    </header>
    <footer class="ui-footer ui-footer-btn">
        <ul class="ui-tiled ui-border-t">
            <li data-href="index.html" class="ui-border-r">
                <div>查询</div>
            </li>
        </ul>
    </footer>
    <section class="ui-container">
    
        <div style="height:300px;" id="main"></div>
    </section>
    <script src="../lib/zepto.min.js"></script>
    <script src="../js/frozen.js"></script>
    <script src="echarts/echarts.min.js"></script>
    <script src="echarts/theme/roma.js"></script>
    <script>
    var myChart = echarts.init(document.getElementById('main'), 'roma');

    function randomData() {
        now = new Date(+now + oneDay);
        value = value + Math.random() * 21 - 10;
        return {
            name: now.getTime(),
            value: [
                now.getTime(),
                Math.round(value)
            ]
        }
    }

    var data = [];
    var now = +new Date();
    var oneDay = 1000;
    var value = Math.random() * 1000;
    for (var i = 0; i < 1000; i++) {
        data.push(randomData());
    }

    var option = {
        title: {
            text: '动态模拟订单量(单位k)'
        },
        xAxis: {
            type: 'time',
            splitLine: {
                show: false
            }
        },
        yAxis: {
            type: 'value',
            boundaryGap: [0, '100%'],
            splitLine: {
                show: false
            }
        },
        series: [{
            name: '模拟数据',
            type: 'line',
            showSymbol: false,
            hoverAnimation: false,
            data: data
        }]
    };
     myChart.setOption(option);
    setInterval(function() {

        for (var i = 0; i < 5; i++) {
            data.shift();
            data.push(randomData());
        }

        myChart.setOption({
            series: [{
                data: data
            }]
        });
    }, 1000);

    window.onresize = myChart.resize;
    </script>
</body>

</html>
